"use strict";(self["webpackChunkos_dash"]=self["webpackChunkos_dash"]||[]).push([[870],{23346:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Wl});var l=a(59835),s=a(86970),i=a(60499),n=a(97510),o=a(84019),r=a(62601);const u={key:0,class:"flex justify-between items-center"},c={class:"flex justify-center items-center"},m=["onClick"],v=["src"],d={class:"text-capitalize",style:{"font-size":"1.2rem"}},p={key:1,class:"flex text-h6 justify-center items-center",style:{height:"115px"}},g=(0,l.aZ)({__name:"MarketplaceInstallAppSlide",props:{catalogList:{},marketplaceType:{}},emits:["update:selectedApp"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(0),o=(0,i.iH)(null),r=(0,i.iH)(null),g=(0,l.Fl)((()=>a.catalogList.filter((e=>e.type===a.marketplaceType)))),b=(0,l.Fl)((()=>{const e=Math.min(n.value,g.value.length-4);return g.value.slice(e,e+4)})),w=e=>{r.value=e,o.value=b.value[e]};return(0,l.YP)(g,(e=>{e.length>0||(o.value=null)})),(0,l.YP)(o,(()=>{t("update:selectedApp",o.value)})),(e,t)=>{const a=(0,l.up)("q-btn");return g.value.length>0?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(a,{style:(0,s.j5)(g.value.length>4&&n.value>0?"visibility: visible":"visibility: hidden"),round:"",flat:"",icon:"sym_s_chevron_left",color:"primary",size:"lg",onClick:t[0]||(t[0]=e=>n.value=Math.max(0,n.value-1))},null,8,["style"]),(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.value,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,s.C_)(["bg-app-slide",{active:r.value===t}]),style:{padding:"8px 4px"},onClick:e=>w(t)},[(0,l._)("img",{src:e.avatarUrl,style:{width:"64px",height:"64px"}},null,8,v),(0,l._)("div",d,(0,s.zw)(e.name),1)],10,m)))),128))]),(0,l.Wm)(a,{style:(0,s.j5)(g.value.length>4&&n.value<g.value.length-4?"visibility: visible":"visibility: hidden"),round:"",icon:"sym_s_chevron_right",color:"primary",flat:"",size:"lg",onClick:t[1]||(t[1]=e=>n.value=Math.min(g.value.length-1,n.value+1))},null,8,["style"])])):((0,l.wg)(),(0,l.iD)("div",p,(0,s.zw)(e.$t("marketplaceInstallAppSlide.notFoundApps",{type:e.marketplaceType})),1))}}});var b=a(68879),w=a(69984),_=a.n(w);const f=g,y=f;_()(g,"components",{QBtn:b.Z});var h=a(88850),S=a(21647),k=a(84278),x=a(9704),q=a(88900),U=a(25121),T=a(45273);const Z={class:"flex justify-start q-gutter-sm q-mb-md"},W={class:"q-my-md"},I={key:0,class:"marketplace-data-fields-box"},C={class:"flex justify-between items-center q-mb-md"},D={class:"title-h6"},F={class:"flex justify-between items-center q-mt-lg"},H=(0,l.aZ)({__name:"MarketplaceInstallAppForm",props:{catalogList:{}},setup(e){const t=(0,r.R)(),a=(0,U.QT)().t,n=(0,i.iH)(""),o=(0,i.iH)(""),u=(0,i.iH)(null),c=(0,i.iH)("app"),m=(0,i.iH)(0),v=(0,i.iH)(0),d=(0,i.iH)([]),p=(0,l.Fl)({get:()=>t.getShowInstallAppDialog,set:e=>t.setShowInstallAppDialog(e)}),g=(0,l.Fl)({get:()=>t.getKeyMarketplaceTable,set:e=>t.setKeyMarketplaceTable(e)});function b(){p.value=!1}function w(){if(!u.value)return;(0,T.Q)();const e={slug:u.value.slugs[0],hostname:o.value};n.value&&(e.urlPath=n.value),d.value.length>0&&(e.dataFields=d.value);const t=new x.Z,l=!1,s=!0;t.installApp(e).then((()=>{(0,q.LX)(a("marketplaceInstallAppForm.installAppSuccess"),"bottom",l,s),setTimeout((()=>{b(),g.value++}),1e3)})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,a("marketplaceInstallAppForm.installAppWithError"),"bottom",l,s)})).finally((()=>{(0,T.Z)()}))}return(0,l.YP)(c,(()=>{v.value++})),(0,l.YP)(u,(()=>{d.value=[],m.value++})),(e,t)=>{const a=(0,l.up)("q-radio"),i=(0,l.up)("q-tooltip"),r=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(S.Z,{class:"q-mb-md","onUpdate:selectedHostname":t[0]||(t[0]=e=>o.value=e),"onUpdate:installDirectory":t[1]||(t[1]=e=>n.value=e)}),(0,l._)("div",Z,[(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),val:"app",label:e.$t("marketplaceInstallAppForm.marketplaceType.apps")},null,8,["modelValue","label"]),(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),val:"framework",label:e.$t("marketplaceInstallAppForm.marketplaceType.frameworks")},null,8,["modelValue","label"]),(0,l.Wm)(a,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=e=>c.value=e),val:"stack",label:e.$t("marketplaceInstallAppForm.marketplaceType.stacks")},null,8,["modelValue","label"])]),(0,l._)("div",W,[((0,l.wg)(),(0,l.j4)(y,{catalogList:e.catalogList,marketplaceType:c.value,"onUpdate:selectedApp":t[5]||(t[5]=e=>u.value=e),key:v.value},null,8,["catalogList","marketplaceType"]))]),null!==u.value&&u.value.dataFields.length>0?((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("div",C,[(0,l._)("div",D,(0,s.zw)(e.$t("marketplaceInstallAppForm.installParams")),1),(0,l.Wm)(r,{name:"sym_s_help",class:"text-white",size:"sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{anchor:"bottom middle",class:"bg-primary",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("marketplaceInstallAppForm.descriptionInstallParams")),1)])),_:1})])),_:1})]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.value.dataFields,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"q-mb-md",key:t},[((0,l.wg)(),(0,l.j4)(h.Z,{style:{width:"100%"},isRequired:e.isRequired,defaultValue:e.defaultValue,label:e.label,options:e.options,type:e.type,name:e.name,key:m.value,"onUpdate:dataFields":e=>d.value[t]=e},null,8,["isRequired","defaultValue","label","options","type","name","onUpdate:dataFields"]))])))),128))])):(0,l.kq)("",!0),(0,l._)("div",F,[(0,l.Wm)(k.Z,{color:"grey-8",label:e.$t("marketplaceInstallAppForm.cancelBtn"),onClick:t[6]||(t[6]=e=>b())},null,8,["label"]),(0,l.Wm)(k.Z,{color:"primary",label:e.$t("marketplaceInstallAppForm.confirmBtn"),disable:null===u.value,onClick:t[7]||(t[7]=e=>w())},null,8,["label","disable"])])],64)}}});var Q=a(11480),$=a(22857),P=a(46858);const V=H,L=V;_()(H,"components",{QRadio:Q.Z,QIcon:$.Z,QTooltip:P.Z});const z={class:"flex justify-between items-center"},A={class:"title-dialog"},j=["innerHTML"],B=(0,l.aZ)({__name:"MarketplaceInstallAppDialog",setup(e){const t=(0,r.R)(),a=new x.Z,n=(0,U.QT)().t,o=(0,i.iH)(!1),u=(0,i.iH)([]);(0,l.bv)((()=>{v()}));const c=(0,l.Fl)({get:()=>t.getShowInstallAppDialog,set:e=>t.setShowInstallAppDialog(e)});function m(){c.value=!1}function v(){o.value=!0,a.getCatalog().then((e=>{u.value=e.data.body})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,n("marketplaceInstallAppDialog.getCatalogWithError"))})).finally((()=>{o.value=!1}))}return(e,t)=>{const a=(0,l.up)("q-skeleton"),i=(0,l.up)("q-card"),n=(0,l.up)("q-btn"),r=(0,l.up)("q-banner"),v=(0,l.up)("q-card-section"),d=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(d,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),persistent:""},{default:(0,l.w5)((()=>[!0===o.value?((0,l.wg)(),(0,l.j4)(i,{key:0,flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{height:"400px",width:"100%"})])),_:1})):((0,l.wg)(),(0,l.j4)(i,{key:1,flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l._)("div",A,(0,s.zw)(e.$t("marketplaceInstallAppDialog.title")),1),(0,l.Wm)(n,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>m())})]),(0,l.Wm)(r,{class:"dialog-info"},{default:(0,l.w5)((()=>[(0,l._)("div",{innerHTML:e.$t("marketplaceInstallAppDialog.subtitle")},null,8,j)])),_:1}),(0,l.Wm)(v,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{catalogList:u.value},null,8,["catalogList"])])),_:1})])),_:1}))])),_:1},8,["modelValue"])}}});var Y=a(32074),E=a(44458),N=a(57133),M=a(47128),R=a(63190);const K=B,X=K;_()(B,"components",{QDialog:Y.Z,QCard:E.Z,QSkeleton:N.ZP,QBtn:b.Z,QBanner:M.Z,QCardSection:R.Z});const O={class:"title-h4"},G=(0,l.aZ)({__name:"MarketplaceIndex",setup(e){const t=(0,U.QT)().t,a=new x.Z,u=(0,r.R)(),c=(0,i.iH)([]),m=(0,i.iH)(!1),v=(0,i.iH)(0),d=(0,l.Fl)((()=>u.getShowInstallAppDialog));function p(){m.value=!0,a.getInstalledApps().then((e=>{var t;c.value=null!==(t=e.data.body)&&void 0!==t?t:[]})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("marketplaceIndex.getInstalledAppsWithError"))})).finally((()=>{m.value=!1}))}return(0,l.bv)((()=>{p()})),(0,l.YP)(d,(e=>{!1!==e&&v.value++})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o.Z),((0,l.wg)(),(0,l.j4)(X,{key:v.value})),(0,l._)("div",O,(0,s.zw)(e.$t("marketplaceIndex.title")),1),(0,l.Wm)(n.Z,{installedAppsList:c.value},null,8,["installedAppsList"])],64))}}),J=G,ee=J,te={class:"text-left home-system-info-table-td"},ae={class:"text-right"},le={class:"hidden"},se={class:"text-left home-system-info-table-td"},ie={class:"text-right"},ne={class:"text-left home-system-info-table-td"},oe={class:"text-right"},re={class:"text-left home-system-info-table-td"},ue={class:"text-right home-system-info-table-td"},ce={class:"system-info-text-chip"},me={class:"text-italic q-ml-xs system-info-text-chip"},ve={class:"system-info-text-chip"},de=(0,l._)("small",{class:"text-italic q-ml-xs system-info-text-chip"}," GB RAM",-1),pe={class:"system-info-text-chip"},ge=(0,l._)("small",{class:"text-italic q-ml-xs system-info-text-chip"}," GB Storage",-1),be={class:"text-left home-system-info-table-td"},we={class:"text-right"},_e=(0,l.aZ)({__name:"SystemInfoTable",props:{overview:{}},setup(e){const t=e,a=(0,i.iH)({currentUsage:{cpuUsagePercent:0,memUsagePercent:0,storageUsage:0},hostname:"",publicIp:"",runtimeContext:"container",specs:{cpuCores:0,cpuFrequency:0,cpuModel:"",memoryTotal:0,storageTotal:0},uptimeSecs:0});function n(e){return(e/1024/1024/1024).toFixed(1)}function o(e){return(e/1e3).toFixed(1)}function r(e){const t=Math.floor(e/3600),a=Math.floor(e%3600/60),l=e%60;return`${t}h ${a}m ${l}s`}return(0,l.bv)((()=>{a.value=t.overview})),(0,l.YP)((()=>t.overview),(e=>{a.value=e})),(e,t)=>{const i=(0,l.up)("q-avatar"),u=(0,l.up)("q-chip"),c=(0,l.up)("q-markup-table");return(0,l.wg)(),(0,l.j4)(c,{flat:"",bordered:"",style:{"min-height":"300px"}},{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",te,(0,s.zw)(e.$t("systemInfoTable.colHostname")),1),(0,l._)("td",ae,(0,s.zw)(a.value.hostname),1)]),(0,l._)("tr",le,[(0,l._)("td",se,(0,s.zw)(e.$t("systemInfoTable.colRuntimeContext")),1),(0,l._)("td",ie,(0,s.zw)(a.value.runtimeContext),1)]),(0,l._)("tr",null,[(0,l._)("td",ne,(0,s.zw)(e.$t("systemInfoTable.colUptime")),1),(0,l._)("td",oe,(0,s.zw)(r(a.value.uptimeSecs)),1)]),(0,l._)("tr",null,[(0,l._)("td",re,(0,s.zw)(e.$t("systemInfoTable.colHardware")),1),(0,l._)("td",ue,[(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_memory",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",ce,(0,s.zw)(a.value.specs.cpuCores),1),(0,l._)("small",me,"CPU "+(0,s.zw)(o(a.value.specs.cpuFrequency))+" GHz",1)])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_memory_alt",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",ve,(0,s.zw)(n(a.value.specs.memoryTotal)),1),de])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(u,{square:"",class:"text-primary",outline:"",style:{"min-width":"150px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{icon:"sym_s_sd_card",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("strong",pe,(0,s.zw)(n(a.value.specs.storageTotal)),1),ge])),_:1})])])]),(0,l._)("tr",null,[(0,l._)("td",be,(0,s.zw)(e.$t("systemInfoTable.colPublicIp")),1),(0,l._)("td",we,(0,s.zw)(a.value.publicIp),1)])])])),_:1})}}});var fe=a(66933),ye=a(57691),he=a(61357);const Se=_e,ke=Se;_()(_e,"components",{QMarkupTable:fe.Z,QChip:ye.Z,QAvatar:he.Z});var xe=a(19302),qe=a(27092),Ue=a.n(qe);const Te=(0,l.aZ)({__name:"AreaChart",props:{series:{},height:{default:200}},setup(e){const t=(0,xe.Z)(),a=(0,i.iH)(0),s=(0,i.iH)({theme:{mode:"dark",palette:"palette6"},chart:{height:200,type:"area",background:"transparent",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:[0,1,2,3,4,5,6,7,8,9]},yaxis:{tickAmount:4,min:0,max:100,labels:{formatter:e=>e+"%"}},tooltip:{x:{format:"dd/MM/yy HH:mm"}},legend:{position:"top",horizontalAlign:"left"}}),n=(0,l.Fl)((()=>t.dark.isActive));return(0,l.YP)(n,(()=>{s.value.theme.mode=n.value?"dark":"light",a.value++}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)((0,i.SU)(Ue()),{type:"area",options:s.value,series:e.series,height:e.height,key:a.value},null,8,["options","series","height"]))}}),Ze=Te,We=Ze,Ie={class:"text-center"},Ce={style:{"line-height":"1.2944rem"}},De=(0,l._)("br",null,null,-1),Fe=(0,l.aZ)({__name:"SystemInfoDiskUsage",props:{storageUsage:{},storageTotal:{}},setup(e){const t=e;function a(){return Math.trunc(t.storageUsage)}return(e,t)=>{const i=(0,l.up)("q-circular-progress");return(0,l.wg)(),(0,l.iD)("div",Ie,[(0,l.Wm)(i,{"show-value":"","font-size":"16px",value:a(),size:"150px",thickness:.3,color:"primary","track-color":"grey-6",class:"q-my-md"},{default:(0,l.w5)((()=>[(0,l._)("div",Ce,[(0,l.Uk)((0,s.zw)(a())+"% ",1),De,(0,l.Uk)(" "+(0,s.zw)(e.$t("systemInfoDiskUsage.diskUsage")),1)])])),_:1},8,["value"])])}}});var He=a(83302);const Qe=Fe,$e=Qe;_()(Fe,"components",{QCircularProgress:He.Z});const Pe={class:"title-h6 q-py-sm"},Ve={class:"row"},Le={class:"col-9"},ze={class:"col"},Ae=(0,l.aZ)({__name:"SystemInfoResourcesChart",props:{overview:{}},setup(e){const t=e,a=(0,U.QT)().t,n=(0,i.iH)([{name:a("systemInfoResourcesChart.cpu"),data:Array()},{name:a("systemInfoResourcesChart.ram"),data:Array()}]);return(0,l.wF)((()=>{n.value[0].data.push(Math.trunc(100*t.overview.currentUsage.cpuUsagePercent)),n.value[1].data.push(Math.trunc(100*t.overview.currentUsage.memUsagePercent))})),(0,l.YP)((()=>t.overview),(e=>{10===n.value[0].data.length&&(n.value[0].data.shift(),n.value[1].data.shift()),n.value[0].data.push(parseInt(e.currentUsage.cpuUsagePercent.toFixed(3))),n.value[1].data.push(parseInt(e.currentUsage.memUsagePercent.toFixed(3)))}),{deep:!0}),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Pe,(0,s.zw)(e.$t("systemInfoResourcesChart.titleResourcesChart")),1),(0,l._)("div",Ve,[(0,l._)("div",Le,[(0,l.Wm)(We,{series:n.value,height:235},null,8,["series"])]),(0,l._)("div",ze,[(0,l.Wm)($e,{storageTotal:e.overview.specs.storageTotal,storageUsage:e.overview.currentUsage.storageUsage},null,8,["storageTotal","storageUsage"])])])],64))}}),je=Ae,Be=je;var Ye=a(87178),Ee=a(16397),Ne=a(85118);const Me={class:"flex justify-between items-center q-mb-sm"},Re={class:"title-h4"},Ke={class:"flex justify-between"},Xe={class:"overview-system-info-table"},Oe={class:"overview-resources-chart"},Ge=(0,l.aZ)({__name:"SystemInfoIndex",setup(e){const t=(0,Ee.n)(),a=(0,Ne.V)(),n=new Ye.Z,o=(0,i.iH)(),r=(0,l.Fl)({get:()=>t.getSystemInfo,set:e=>t.setSystemInfo(e)}),u=(0,l.Fl)((()=>a.getSelectedRefreshRate));function c(){o.value&&clearInterval(o.value),o.value=setInterval((()=>{n.getSystemInfo().then((e=>{r.value=e.data.body})).catch((e=>{console.error(e)}))}),1e3*u.value)}return(0,l.bv)((()=>{n.getSystemInfo().then((e=>{r.value=e.data.body})).catch((e=>{console.error(e)})).finally((()=>{c()}))})),(0,l.Ah)((()=>{clearInterval(o.value)})),(0,l.YP)(u,(()=>{c()})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Me,[(0,l._)("div",Re,(0,s.zw)(e.$t("systemInfoIndex.titleSystemInfo")),1)]),(0,l._)("div",Ke,[(0,l._)("div",Xe,[(0,l.Wm)(ke,{overview:r.value},null,8,["overview"])]),(0,l._)("div",Oe,[(0,l.Wm)(Be,{overview:r.value},null,8,["overview"])])])],64))}}),Je=Ge,et=Je;var tt=a(9281),at=a(3746);const lt=(0,at.Q_)("servicesStatus",{state:()=>({keyServicesStatusTable:0,isLoadingServicesStatus:!1,showDialogUninstallService:!1,showDialogInstallService:!1,showDialogUpdateService:!1,selectedService:{},servicesStatusList:[]}),getters:{getKeyServicesStatusTable(e){return e.keyServicesStatusTable},getIsLoadingServicesStatus(e){return e.isLoadingServicesStatus},getShowDialogUninstallService(e){return e.showDialogUninstallService},getShowDialogInstallService(e){return e.showDialogInstallService},getShowDialogUpdateService(e){return e.showDialogUpdateService},getSelectedService(e){return e.selectedService},getServicesStatusList(e){return e.servicesStatusList}},actions:{setKeyServicesStatusTable(e){this.keyServicesStatusTable=e},setIsLoadingServicesStatus(e){this.isLoadingServicesStatus=e},setShowDialogUninstallService(e){this.showDialogUninstallService=e},setShowDialogInstallService(e){this.showDialogInstallService=e},setShowDialogUpdateService(e){this.showDialogUpdateService=e},setSelectedService(e){this.selectedService=e},setServicesStatusList(e){this.servicesStatusList=e}}}),st={key:0,class:"flex justify-end items-center"},it={class:"td-action-bg-15",style:{width:"57px"}},nt={class:"td-action-bg-20"},ot={class:"td-action-bg-25"},rt={key:1,class:"flex justify-end items-center"},ut={class:"td-action-bg-25",style:{width:"56px"}},ct=(0,l.aZ)({__name:"ServicesStatusTableActions",props:{service:{}},setup(e){const t=e,a=new tt.Z,n=(0,U.QT)().t,o=lt(),r=(0,i.iH)(t.service.status),u=(0,i.iH)(!1),c=(0,i.iH)(!1),m=(0,l.Fl)({get:()=>o.getKeyServicesStatusTable,set:e=>{o.keyServicesStatusTable=e}}),v=(0,l.Fl)({get:()=>o.getIsLoadingServicesStatus,set:e=>{o.setIsLoadingServicesStatus(e)}});function d(e){"installed"!==e&&"uninstalled"!==e&&(v.value=!0,(0,T.Q)(n("running"!==e?"servicesStatusTableActions.stopLoading":"servicesStatusTableActions.startLoading")),a.updateServiceStatus({name:t.service.name,status:e}).then((()=>{"running"!==e?(0,q.LX)(n("servicesStatusTableActions.stopSuccess")):(0,q.LX)(n("servicesStatusTableActions.startSuccess"))})).catch((t=>{console.error(t),"running"!==e?(0,q.s9)(t.response.data,n("servicesStatusTableActions.stopError")):(0,q.s9)(t.response.data,n("servicesStatusTableActions.startError"))})).finally((()=>{v.value=!1,setTimeout((()=>{m.value++,(0,T.Z)()}),1e3)})))}function p(e){if("installed"===e||"uninstalled"===e)return;v.value=!0,c.value=!0,(0,T.Q)(n("servicesStatusTableActions.restartLoading"));const l="running"===e?"stopped":"running";a.updateServiceStatus({name:t.service.name,status:l}).then((()=>{const t=n("running"===e?"servicesStatusTableActions.stopSuccess":"servicesStatusTableActions.startSuccess");(0,q.LX)(t),"stopped"===l&&setTimeout((()=>{p("stopped")}),1e3)})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,n("servicesStatusTableActions.restartError"))})).finally((()=>{v.value=!1,c.value=!1,(0,T.Z)()}))}function g(){o.setSelectedService(t.service),o.setShowDialogUpdateService(!0)}function b(){o.setSelectedService(t.service),o.setShowDialogUninstallService(!0)}return(0,l.YP)(r,(e=>{"installed"!==e&&"uninstalled"!==e&&(c.value||d(e))})),(e,t)=>{const a=(0,l.up)("q-toggle"),o=(0,l.up)("q-tooltip"),m=(0,l.up)("q-btn"),v=(0,l.up)("q-icon");return"system"!==e.service.type?((0,l.wg)(),(0,l.iD)("div",st,[(0,l._)("div",it,[(0,l.Wm)(a,{disable:"running"!==r.value&&"stopped"!==r.value,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"true-value":"running","false-value":"stopped",size:"36px"},null,8,["disable","modelValue"])]),(0,l._)("div",nt,[(0,l.Wm)(m,{disable:"running"!==r.value,onClick:t[1]||(t[1]=e=>p(r.value)),loading:c.value,size:"md",flat:"",icon:"sym_s_refresh"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.restartBtn")),1)])),_:1})])),_:1},8,["disable","loading"])]),(0,l._)("div",ot,[(0,l.Wm)(m,{disable:"solo"===e.service.nature,onClick:t[2]||(t[2]=e=>g()),size:"md",flat:"",icon:"sym_s_settings"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.updateBtn")),1)])),_:1})])),_:1},8,["disable"])]),(0,l._)("div",null,[(0,l.Wm)(m,{disable:"uninstalled"===r.value,onClick:t[3]||(t[3]=e=>b()),loading:u.value,color:"negative",size:"md",icon:"sym_s_delete_forever"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-negative text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.uninstallBtn")),1)])),_:1})])),_:1},8,["disable","loading"])])])):((0,l.wg)(),(0,l.iD)("div",rt,[(0,l._)("div",ut,[(0,l.Wm)(m,{disable:"running"!==r.value,onClick:t[4]||(t[4]=e=>p(r.value)),loading:c.value,size:"md",flat:"",icon:"sym_s_refresh"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.restartBtn")),1)])),_:1})])),_:1},8,["disable","loading"])]),(0,l.Wm)(v,{name:"sym_s_info",size:"16px",class:"text-primary q-ml-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-primary text-white",style:{"font-size":"14px"},offset:[10,10]},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)((0,i.SU)(n)("servicesStatusTableActions.systemServiceWarning")),1)])),_:1})])),_:1})]))}}});var mt=a(23175);const vt=ct,dt=vt;_()(ct,"components",{QToggle:mt.Z,QBtn:b.Z,QTooltip:P.Z,QIcon:$.Z});var pt=a(73451);const gt={class:"flex justify-start items-center"},bt=(0,l._)("span",{style:{"padding-bottom":"3px"}},"v",-1),wt={class:"services-status-text-chip"},_t={class:"services-status-text-chip"},ft=(0,l.aZ)({__name:"ServicesStatusTableTdMain",props:{serviceName:{},version:{},startupFile:{}},setup(e){return(e,t)=>{const a=(0,l.up)("q-avatar"),n=(0,l.up)("q-chip");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,(0,s.zw)((0,i.SU)(pt.R)(e.serviceName)),1),(0,l._)("div",gt,[e.version?((0,l.wg)(),(0,l.j4)(n,{key:0,square:"",outline:"",color:"primary",class:"q-ml-none q-mr-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{color:"primary","text-color":"white","font-size":"1.1326rem"},{default:(0,l.w5)((()=>[bt])),_:1}),(0,l._)("span",wt,(0,s.zw)(e.version),1)])),_:1})):(0,l.kq)("",!0),e.startupFile?((0,l.wg)(),(0,l.j4)(n,{key:1,square:"",class:"text-primary q-ml-none",outline:""},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{icon:"sym_s_description",color:"primary","text-color":"white","font-size":"1.2499rem"}),(0,l._)("span",_t,(0,s.zw)(e.startupFile),1)])),_:1})):(0,l.kq)("",!0)])],64)}}}),yt=ft,ht=yt;_()(ft,"components",{QChip:ye.Z,QAvatar:he.Z});const St=(0,l.aZ)({__name:"ServicesStatusTable",props:{servicesStatusList:{}},setup(e){const t=e,a=(0,U.QT)().t,n=lt(),o=(0,i.iH)(""),r=(0,i.iH)([]),u=(0,i.iH)([{name:"uptimeSecs",label:a("servicesStatusTable.colUptime"),align:"center",format:e=>p(e.uptimeSecs),field:"metrics"},{name:"cpuUsagePercent",label:a("servicesStatusTable.colCpuUsage"),align:"center",format:e=>g(e.cpuUsagePercent),field:"metrics"},{name:"memUsagePercent",label:a("servicesStatusTable.colRamUsage"),align:"center",format:e=>g(e.memUsagePercent),field:"metrics"}]),c=(0,i.iH)({sortBy:"serviceName",isDescending:!1}),m=(0,i.iH)({rowsPerPage:1e4}),v=(0,l.Fl)({get:()=>n.getShowDialogInstallService,set:e=>n.setShowDialogInstallService(e)});function d(e,a=!1){let l=t.servicesStatusList;"serviceName"===e&&l.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),"uptimeSecs"===e&&l.sort(((e,t)=>e.metrics.uptimeSecs<t.metrics.uptimeSecs?-1:e.metrics.uptimeSecs>t.metrics.uptimeSecs?1:0)),"cpuUsagePercent"===e&&l.sort(((e,t)=>e.metrics.cpuUsagePercent<t.metrics.cpuUsagePercent?-1:e.metrics.cpuUsagePercent>t.metrics.cpuUsagePercent?1:0)),"memUsagePercent"===e&&l.sort(((e,t)=>e.metrics.memUsagePercent<t.metrics.memUsagePercent?-1:e.metrics.memUsagePercent>t.metrics.memUsagePercent?1:0)),!0===c.value.isDescending&&l.reverse(),!1===a&&c.value.sortBy===e&&(c.value.isDescending=!c.value.isDescending),r.value=l,c.value.sortBy=e}function p(e){if(!e)return"";const t=Math.floor(e/3600),a=Math.floor(e%3600/60),l=e%60;return`${t}h ${a}m ${l.toFixed(0)}s`}function g(e){return e?`${e.toFixed(2)}%`:"0%"}function b(){v.value=!0}return(0,l.YP)((()=>t.servicesStatusList),(()=>{d(c.value.sortBy,!0)})),(e,t)=>{const a=(0,l.up)("q-icon"),i=(0,l.up)("q-input"),n=(0,l.up)("q-space"),v=(0,l.up)("q-th"),p=(0,l.up)("q-tr"),g=(0,l.up)("q-td"),w=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(w,{rows:r.value,columns:u.value,filter:o.value,pagination:m.value,"onUpdate:pagination":t[3]||(t[3]=e=>m.value=e),"visible-columns":["uptimeSecs","cpuUsagePercent","memUsagePercent"],"no-data-label":e.$t("servicesStatusTable.notFound"),"row-key":"key",color:"primary",flat:"",bordered:"","virtual-scroll":"","rows-per-page-options":[0],"hide-pagination":"",style:{height:"auto","max-height":"800px"}},{top:(0,l.w5)((()=>[(0,l.Wm)(i,{borderless:"",debounce:"300",color:"primary",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:e.$t("servicesStatusTable.inputSearch")},{prepend:(0,l.w5)((()=>[(0,l.Wm)(a,{name:"sym_s_search"})])),_:1},8,["modelValue","label"]),(0,l.Wm)(n),(0,l.Wm)(k.Z,{label:e.$t("servicesStatusTable.createServiceBtn"),icon:"sym_s_install_desktop",onClick:t[1]||(t[1]=e=>b())},null,8,["label"])])),header:(0,l.w5)((i=>[(0,l.Wm)(p,{props:i},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"bg-primary text-white services-table-th",style:{"text-align":"left !important"},onClick:t[2]||(t[2]=e=>d("serviceName"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("servicesStatusTable.colServiceName"))+" ",1),(0,l.Wm)(a,{name:"serviceName"===c.value.sortBy?c.value.isDescending?"sym_s_arrow_downward":"sym_s_arrow_upward":""},null,8,["name"])])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.cols,(e=>((0,l.wg)(),(0,l.j4)(v,{key:e.name,props:i,class:"services-table-th",onClick:t=>d(e.name)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.label)+" ",1),(0,l.Wm)(a,{name:c.value.sortBy===e.name?c.value.isDescending?"sym_s_arrow_downward":"sym_s_arrow_upward":""},null,8,["name"])])),_:2},1032,["props","onClick"])))),128)),(0,l.Wm)(v)])),_:2},1032,["props"])])),body:(0,l.w5)((e=>[(0,l.Wm)(p,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"td-main-table"},{default:(0,l.w5)((()=>[(0,l.Wm)(ht,{serviceName:e.row.name,version:e.row.version,startupFile:e.row.startupFile},null,8,["serviceName","version","startupFile"])])),_:2},1024),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(t=>((0,l.wg)(),(0,l.j4)(g,{key:t.name,props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(t.value),1)])),_:2},1032,["props"])))),128)),(0,l.Wm)(g,{class:"text-right"},{default:(0,l.w5)((()=>[(0,l.Wm)(dt,{service:e.row},null,8,["service"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter","pagination","no-data-label"])}}});var kt=a(84277),xt=a(13119),qt=a(90136),Ut=a(31233),Tt=a(21682),Zt=a(67220);const Wt=St,It=Wt;_()(St,"components",{QTable:kt.Z,QInput:xt.Z,QIcon:$.Z,QSpace:qt.Z,QTr:Ut.Z,QTh:Tt.Z,QTd:Zt.Z});var Ct=a(15521);const Dt=(0,l.aZ)({__name:"ServicesNameInput",props:{serviceName:{}},emits:["update:serviceName","update:isValidServiceName"],setup(e,{emit:t}){const a=e,s=/^[a-zA-Z0-9-_]{1,255}$/,n=(0,i.iH)(a.serviceName),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceName",e),t("update:isValidServiceName",o.value)}),{immediate:!0}),(0,l.YP)((()=>a.serviceName),(e=>{n.value=e}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)(Ct.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),label:e.$t("servicesNameInput.serviceNameLabel"),icon:"sym_s_app_registration","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesNameInput.requiredError"),()=>n.value.length<=255||e.$t("servicesNameInput.maxLengthError"),()=>/^[a-zA-Z0-9-_]+$/.test(n.value)||e.$t("servicesNameInput.nameRegexError")]},null,8,["value","label","rules"]))}}),Ft=Dt,Ht=Ft,Qt=(0,l.aZ)({__name:"ServicesVersionInput",props:{serviceVersion:{}},emits:["update:serviceVersion","update:isValidServiceVersion"],setup(e,{emit:t}){const a=e,s=/^[\w\-\.]{1,255}$/,n=(0,i.iH)(a.serviceVersion),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceVersion",e),t("update:isValidServiceVersion",o.value)}),{immediate:!0}),(0,l.YP)((()=>a.serviceVersion),(e=>{n.value=e}),{immediate:!0}),(e,t)=>((0,l.wg)(),(0,l.j4)(Ct.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),label:e.$t("servicesVersionInput.versionLabel"),icon:"sym_s_code","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesVersionInput.requiredError"),()=>n.value.length<=255||e.$t("servicesVersionInput.maxLengthError"),()=>/^[\w\-\.]+$/.test(n.value)||e.$t("servicesVersionInput.versionRegexError")]},null,8,["value","label","rules"]))}}),$t=Qt,Pt=$t;var Vt=a(94629);const Lt={class:"port-bindings-bg q-pa-sm"},zt={class:"title-h6 q-mb-sm"},At={class:"flex justify-between items-center q-mb-md"},jt={class:"col q-pr-sm"},Bt={class:"col q-px-sm"},Yt={class:"flex justify-between items-center"},Et={class:"col q-pr-sm"},Nt={class:"col q-px-sm"},Mt=(0,l.aZ)({__name:"ServicesPortBindings",props:{portBindings:{}},emits:["update:portBindings"],setup(e,{emit:t}){const a=e,n=/^(\d{1,5})$/,o=(0,i.iH)(a.portBindings),r=["http","https","ws","wss","grpc","grpcs","tcp","udp"],u=(0,i.iH)(0),c=(0,i.iH)({port:"",protocol:""}),m=(0,l.Fl)((()=>!(parseInt(c.value.port)>65535)&&(n.test(c.value.port)&&c.value.protocol.length>0)));function v(){o.value.push({port:parseInt(c.value.port),protocol:c.value.protocol}),u.value++,c.value={port:"",protocol:""}}function d(e){o.value.splice(e,1)}return(0,l.YP)(o,(e=>{t("update:portBindings",e)})),(0,l.YP)((()=>a.portBindings),(e=>{o.value=e})),(e,t)=>{const a=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",Lt,[(0,l._)("div",zt,(0,s.zw)(e.$t("servicesPortBindings.titlePortBindings")),1),(0,l._)("div",At,[(0,l._)("div",jt,[((0,l.wg)(),(0,l.j4)(Ct.Z,{value:c.value.port,"onUpdate:value":t[0]||(t[0]=e=>c.value.port=e),label:e.$t("servicesPortBindings.hostPortInputLabel"),maxLength:"5",rules:[()=>n.test(c.value.port.toString())||e.$t("servicesPortBindings.portError"),()=>parseInt(c.value.port)<=65535||e.$t("servicesPortBindings.portError")],key:u.value},null,8,["value","label","rules"]))]),(0,l._)("div",Bt,[(0,l.Wm)(Vt.Z,{selected:c.value.protocol,"onUpdate:selected":t[1]||(t[1]=e=>c.value.protocol=e),options:r,dense:!1,label:e.$t("servicesPortBindings.protocolInputLabel")},null,8,["selected","label"])]),(0,l.Wm)(a,{onClick:t[2]||(t[2]=e=>v()),color:"primary",size:"md",dense:"",icon:"sym_s_add",disable:!1===m.value},null,8,["disable"])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.value,((t,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s},[(0,l._)("div",Yt,[(0,l._)("div",Et,[(0,l.Wm)(Ct.Z,{value:t.port,"onUpdate:value":e=>t.port=e,label:e.$t("servicesPortBindings.hostPortInputLabel"),disable:""},null,8,["value","onUpdate:value","label"])]),(0,l._)("div",Nt,[(0,l.Wm)(Vt.Z,{selected:t.protocol,"onUpdate:selected":e=>t.protocol=e,options:r,dense:!1,label:e.$t("servicesPortBindings.protocolInputLabel"),disable:""},null,8,["selected","onUpdate:selected","label"])]),(0,l.Wm)(a,{onClick:e=>d(s),color:"negative",size:"md",dense:"",icon:"sym_s_delete"},null,8,["onClick"])])])))),128))])}}}),Rt=Mt,Kt=Rt;_()(Mt,"components",{QBtn:b.Z});const Xt={class:"flex justify-between items-center"},Ot=["innerHTML"],Gt=(0,l.aZ)({__name:"ServicesCommandInput",props:{serviceCommand:{}},emits:["update:serviceCommand","update:isValidServiceCommand"],setup(e,{emit:t}){const a=e,s=/^[\w\s-.\/\\]{1,255}$/,n=(0,i.iH)(a.serviceCommand),o=(0,l.Fl)((()=>s.test(n.value)));return(0,l.YP)(n,(e=>{t("update:serviceCommand",e)}),{immediate:!0}),(0,l.YP)(o,(e=>{t("update:isValidServiceCommand",e)})),(0,l.YP)((()=>a.serviceCommand),(e=>{n.value=e}),{immediate:!0}),(e,t)=>{const a=(0,l.up)("q-tooltip"),s=(0,l.up)("q-icon");return(0,l.wg)(),(0,l.iD)("div",Xt,[(0,l.Wm)(Ct.Z,{value:n.value,"onUpdate:value":t[0]||(t[0]=e=>n.value=e),placeholder:e.$t("servicesCommandInput.serviceCommandPlaceholder"),icon:"sym_s_terminal","max-length":"255",rules:[()=>0!==n.value.length||e.$t("servicesCommandInput.requiredError"),()=>n.value.length<=255||e.$t("servicesCommandInput.maxLengthError"),()=>/^[\w\s-.\/\\]+$/.test(n.value)||e.$t("servicesCommandInput.commandRegexError")],style:{width:"97%"}},null,8,["value","placeholder","rules"]),(0,l.Wm)(s,{name:"sym_s_help",size:"20px",class:"cursor-pointer",style:{position:"absolute",right:"30px",top:"100px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{anchor:"top middle",self:"bottom middle",class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l._)("span",{innerHTML:e.$t("servicesCommandInput.helpCommand")},null,8,Ot)])),_:1})])),_:1})])}}}),Jt=Gt,ea=Jt;_()(Gt,"components",{QIcon:$.Z,QTooltip:P.Z});var ta=function(e,t,a,l){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function n(e){try{r(l.next(e))}catch(t){i(t)}}function o(e){try{r(l["throw"](e))}catch(t){i(t)}}function r(e){e.done?a(e.value):s(e.value).then(n,o)}r((l=l.apply(e,t||[])).next())}))};const aa={class:"flex justify-between items-center"},la={class:"col q-mr-sm"},sa={class:"col q-ml-sm"},ia=["textContent"],na={class:"service-tab-custom-box"},oa={class:"row justify-between items-center"},ra={class:"col-2"},ua={class:"col"},ca={class:"row justify-between items-center"},ma={class:"col-2"},va={class:"col"},da=(0,l.aZ)({__name:"ServicesTabCustom",setup(e){const t=(0,U.QT)().t,a=lt(),n=(0,i.iH)([]),o=(0,i.iH)(null),r=(0,i.iH)(0),u=(0,i.iH)(""),c=(0,i.iH)(""),m=(0,i.iH)(""),v=(0,i.iH)("other"),d=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)(!1),b=(0,i.iH)("startCmd"),w=(0,i.iH)([{label:t("servicesTabCustom.application"),value:"application"},{label:t("servicesTabCustom.runtime"),value:"runtime"},{label:t("servicesTabCustom.database"),value:"database"},{label:t("servicesTabCustom.webserver"),value:"webserver"},{label:t("servicesTabCustom.mom"),value:"mom"},{label:t("servicesTabCustom.monitoring"),value:"monitoring"},{label:t("servicesTabCustom.logging"),value:"logging"},{label:t("servicesTabCustom.security"),value:"security"},{label:t("servicesTabCustom.backup"),value:"backup"},{label:t("servicesTabCustom.system"),value:"system"},{label:t("servicesTabCustom.other"),value:"other"}]);(0,l.YP)(b,(()=>{r.value++,o.value=null,u.value=""}));const _=(0,l.Fl)((()=>"startCmd"===b.value?"display: block;":"visibility:hidden;")),f=(0,l.Fl)((()=>"file_uploader"===b.value?"display: block;":"visibility:hidden;")),y=(0,l.Fl)((()=>d.value&&p.value&&(g.value||null!==o.value))),h=(0,l.Fl)({get:()=>a.getShowDialogInstallService,set:e=>a.setShowDialogInstallService(e)}),S=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function x(){h.value=!1}function Z(){return ta(this,void 0,void 0,(function*(){return(0,T.Q)(),new Promise(((e,a)=>{const l=new tt.Z,s=new FormData;s.append("files",o.value),s.append("destinationPath","/app/"),l.uploadFile(s).then((()=>{(0,T.Z)(),e()})).catch((e=>{(0,q.s9)(e.message,t("servicesTabCustom.uploadError")),console.error(e),(0,T.Z)(),a(e)}))}))}))}function W(){var e;return ta(this,void 0,void 0,(function*(){if("file_uploader"===b.value)try{yield Z()}catch(r){throw(0,q.c0)({msg:t("servicesTabCustom.uploadError"),type:"negative",position:"bottom"}),console.error(r),r}let a=u.value;!1===g.value&&(a=`/app/${null===(e=o.value)||void 0===e?void 0:e.name}`);const l=new tt.Z,s=!1,i=!0;(0,T.Q)(),l.installCustomService({name:m.value,version:c.value,startCmd:a,portBindings:n.value,type:v.value}).then((()=>{(0,q.LX)(t("servicesTabCustom.installSuccess"),"bottom",s,i),S.value++,x()})).catch((e=>{(0,q.s9)(e.response.data,t("servicesTabCustom.installError"),"bottom",s,i),console.error(e)})).finally((()=>{(0,T.Z)()}))}))}return(e,t)=>{const a=(0,l.up)("q-card-section"),i=(0,l.up)("q-radio"),h=(0,l.up)("q-icon"),S=(0,l.up)("q-file"),q=(0,l.up)("q-card"),U=(0,l.up)("q-expansion-item"),T=(0,l.up)("q-list"),Z=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.j4)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",aa,[(0,l._)("div",la,[(0,l.Wm)(Ht,{serviceName:m.value,"onUpdate:serviceName":t[0]||(t[0]=e=>m.value=e),"onUpdate:isValidServiceName":t[1]||(t[1]=e=>d.value=e)},null,8,["serviceName"])]),(0,l._)("div",sa,[(0,l.Wm)(Pt,{serviceVersion:c.value,"onUpdate:serviceVersion":t[2]||(t[2]=e=>c.value=e),"onUpdate:isValidServiceVersion":t[3]||(t[3]=e=>p.value=e)},null,8,["serviceVersion"])])])])),_:1}),(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l._)("h6",{style:{size:"1em"},class:"q-ma-sm",textContent:(0,s.zw)(e.$t("servicesTabCustom.labelExecut"))},null,8,ia),(0,l._)("div",na,[(0,l._)("div",oa,[(0,l._)("div",ra,[(0,l.Wm)(i,{style:{"margin-top":"-18px"},dense:"",modelValue:b.value,"onUpdate:modelValue":t[4]||(t[4]=e=>b.value=e),label:e.$t("servicesTabCustom.labelRadioCommand"),val:"startCmd"},null,8,["modelValue","label"])]),(0,l._)("div",ua,[((0,l.wg)(),(0,l.j4)(ea,{style:(0,s.j5)(_.value),serviceCommand:u.value,"onUpdate:serviceCommand":t[5]||(t[5]=e=>u.value=e),targetType:b.value,key:r.value,"onUpdate:isValidServiceCommand":t[6]||(t[6]=e=>g.value=e)},null,8,["style","serviceCommand","targetType"]))])]),(0,l._)("div",ca,[(0,l._)("div",ma,[(0,l.Wm)(i,{style:{"margin-top":"-18px"},dense:"",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),label:e.$t("servicesTabCustom.labelRadioFile"),val:"file_uploader"},null,8,["modelValue","label"])]),(0,l._)("div",va,[((0,l.wg)(),(0,l.j4)(S,{modelValue:o.value,"onUpdate:modelValue":t[8]||(t[8]=e=>o.value=e),color:"primary",counter:"",style:(0,s.j5)(f.value),filled:"","use-chips":"",key:r.value,label:e.$t("servicesTabCustom.labelUploadFile"),cursor:"pointer",type:"file"},{prepend:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"sym_s_upload",size:"20px"})])),_:1},8,["modelValue","style","label"]))])])]),(0,l.Wm)(Vt.Z,{selected:v.value,"onUpdate:selected":t[9]||(t[9]=e=>v.value=e),label:e.$t("servicesTabCustom.typeSelect"),options:w.value},null,8,["selected","label","options"])])),_:1}),(0,l.Wm)(a,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesTabCustom.advancedSettingsLabel"),class:"services-tab-installable-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{class:"q-ma-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Kt,{portBindings:n.value,"onUpdate:portBindings":t[10]||(t[10]=e=>n.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(Z,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesTabCustom.cancelButton"),color:"grey-7",onClick:t[11]||(t[11]=e=>x())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===y.value,label:e.$t("servicesTabCustom.installButton"),icon:"sym_s_install_desktop",onClick:t[12]||(t[12]=e=>W())},null,8,["disable","label"])])),_:1})])),_:1})}}});var pa=a(33837),ga=a(13246),ba=a(50651),wa=a(11821);const _a=da,fa=_a;_()(da,"components",{QCard:E.Z,QCardSection:R.Z,QRadio:Q.Z,QFile:pa.Z,QIcon:$.Z,QList:ga.Z,QExpansionItem:ba.Z,QCardActions:wa.Z});var ya=a(18892);const ha={class:"flex justify-between items-center"},Sa={class:"title-dialog"},ka=(0,l.aZ)({__name:"StartupFileDialog",props:{showStartupFileDialog:{type:Boolean}},emits:["update:showStartupFileDialog","update:startupFilePath"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(0),o=(0,i.iH)([]),r=(0,i.iH)([]),u=(0,i.iH)("/app"),c=(0,i.iH)(!1),m=()=>{c.value=!1};function v(){const e=new ya.Z;(0,T.Q)(),e.getCurrentPath(u.value).then((e=>{if(r.value=e.data.body,"/app"===u.value)return d(e.data.body),void n.value++;p(o.value,u.value,e.data.body),n.value++})).catch((e=>{console.error(e)})).finally((()=>{setTimeout((()=>{(0,T.Z)()}),500)}))}function d(e){o.value=[{label:"/app",path:"/app",icon:"sym_s_home",iconColor:"grey-7",children:e.map((e=>Object.assign({label:e.name,path:e.path,icon:"directory"===e.mimeType?"sym_s_folder":"sym_s_description",iconColor:"directory"===e.mimeType?"yellow-9":"grey-7"},".trash"===e.name&&{icon:"sym_s_delete",iconColor:"grey-8"})))}]}function p(e,a,l){const s=e=>{for(const t of e){if(t.path===a)return t;if(t.children){const e=s(t.children);if(e)return e}}},i=s(e);if(!1!==i){if("sym_s_description"===i.icon)return t("update:startupFilePath",i.path),void m();i.icon="sym_s_folder_open",i.children=l.map((e=>Object.assign({label:e.name,path:e.path,icon:"directory"===e.mimeType?"sym_s_folder":"sym_s_description",iconColor:"directory"===e.mimeType?"yellow-9":"grey-7"},".trash"===e.name&&{icon:"sym_s_delete",iconColor:"grey-8"})))}}return(0,l.YP)((()=>a.showStartupFileDialog),(e=>{c.value=e,!1!==e&&v()}),{immediate:!0}),(0,l.YP)(c,(e=>{t("update:showStartupFileDialog",e)})),(0,l.YP)(u,(()=>{v()})),(e,t)=>{const a=(0,l.up)("q-btn"),i=(0,l.up)("q-tree"),r=(0,l.up)("q-card-section"),v=(0,l.up)("q-card-actions"),d=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(p,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{flat:"",style:{width:"700px","max-width":"80vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",ha,[(0,l._)("div",Sa,(0,s.zw)(e.$t("startupFileDialog.title")),1),(0,l.Wm)(a,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>m())})]),(0,l.Wm)(r,{class:"q-pa-none q-mt-md",style:{"overflow-y":"auto","max-height":"70vh"}},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(i,{key:n.value,nodes:o.value,selected:u.value,"onUpdate:selected":t[1]||(t[1]=e=>u.value=e),"node-key":"path","tick-strategy":"none","default-expand-all":"",style:{"font-size":"0.809rem"}},null,8,["nodes","selected"]))])),_:1}),(0,l.Wm)(v,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("startupFileDialog.cancelBtn"),color:"grey-7",onClick:t[2]||(t[2]=e=>m())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var xa=a(84749);const qa=ka,Ua=qa;_()(ka,"components",{QDialog:Y.Z,QCard:E.Z,QBtn:b.Z,QCardSection:R.Z,QTree:xa.Z,QCardActions:wa.Z});const Ta={class:"q-pa-md startup-file-box"},Za={class:"title-h6 q-mb-md"},Wa={style:{"font-size":"0.9708rem"}},Ia={class:"flex justify-between items-center q-mt-md"},Ca={style:{width:"72%"}},Da=(0,l.aZ)({__name:"StartupFile",props:{selectedStartupFile:{}},emits:["update:selectedStartupFile","update:isValidStartupFile"],setup(e,{emit:t}){const a=e,n=(0,i.iH)(!1),o=(0,i.iH)(""),r=(0,i.iH)(0),u=(0,l.Fl)((()=>""!==o.value&&o.value.length<2046));return(0,l.YP)((()=>a.selectedStartupFile),(e=>{o.value=e}),{immediate:!0}),(0,l.YP)((()=>o.value),(e=>{t("update:selectedStartupFile",e)})),(0,l.YP)(n,(e=>{!1!==e&&r.value++})),(0,l.YP)(u,(e=>{t("update:isValidStartupFile",e)})),(e,t)=>{const a=(0,l.up)("q-input");return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(),(0,l.j4)(Ua,{showStartupFileDialog:n.value,"onUpdate:showStartupFileDialog":t[0]||(t[0]=e=>n.value=e),"onUpdate:startupFilePath":t[1]||(t[1]=e=>o.value=e),key:r.value},null,8,["showStartupFileDialog"])),(0,l._)("div",Ta,[(0,l._)("div",Za,(0,s.zw)(e.$t("servicesTabInstallable.titleStartupFile")),1),(0,l._)("div",Wa,(0,s.zw)(e.$t("servicesTabInstallable.helpText")),1),(0,l._)("div",Ia,[(0,l.Wm)(k.Z,{label:e.$t("servicesTabInstallable.selectStartupFile"),outline:!0,color:"primary",onClick:t[2]||(t[2]=e=>n.value=!0),style:{top:"2px"},icon:"sym_s_description"},null,8,["label"]),(0,l._)("div",Ca,[(0,l.Wm)(a,{filled:"",modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e),label:e.$t("servicesTabInstallable.startupFileLabel")},null,8,["modelValue","label"])])])])],64)}}}),Fa=Da,Ha=Fa;_()(Da,"components",{QInput:xt.Z});const Qa={class:"flex justify-between items-center q-my-md"},$a={class:"col q-mr-sm"},Pa={class:"col q-ml-sm"},Va={key:0,class:"q-mb-lg"},La=(0,l.aZ)({__name:"ServicesTabInstallable",setup(e){const t=(0,U.QT)().t,a=lt(),s=new tt.Z,n=(0,i.iH)(!1),o=(0,i.iH)(0),r=(0,i.iH)(0),u=(0,i.iH)(""),c=(0,i.iH)(""),m=(0,i.iH)([]),v=(0,i.iH)(""),d=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)([]),b=(0,i.iH)([]),w=(0,i.iH)([]),_=(0,l.Fl)({get:()=>a.getShowDialogInstallService,set:e=>a.setShowDialogInstallService(e)}),f=(0,l.Fl)((()=>!1===p.value||!0===d.value)),y=(0,l.Fl)((()=>a.getServicesStatusList)),h=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function S(e){p.value=!1,g.value.forEach((t=>{t.name===e&&"multi"===t.nature&&(p.value=!0)}))}function x(){n.value=!0,g.value=[],s.getServicesInstallable().then((e=>{g.value=e.data.body})).catch((e=>{console.error(e)})).finally((()=>{setTimeout((()=>{n.value=!1}),1e3)}))}function Z(){b.value=[],g.value.forEach((e=>{let t=!1;const a={value:e.name,label:(0,pt.R)(e.name)};y.value.forEach((a=>{e.name===a.name&&"solo"===a.nature&&(t=!0)})),t||(b.value.push(a),r.value++)})),u.value=b.value[0].value}function W(){o.value++,w.value=[],g.value.forEach((e=>{e.name===u.value&&e.versions.forEach((e=>{w.value.push(e)}))})),c.value=w.value[0]}function I(){_.value=!1}function C(){(0,T.Q)();const e=new tt.Z;let a={name:u.value,version:c.value,portBindings:m.value};p.value&&(a.startupFile=v.value);const l=!1,s=!0;e.installService(a).then((()=>{(0,q.LX)(t("servicesTabInstallable.installSuccess"),"bottom",l,s),h.value++,I()})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("servicesTabInstallable.installError"),"bottom",l,s)})).finally((()=>{(0,T.Z)()}))}return(0,l.bv)((()=>{x()})),(0,l.YP)(g,(()=>{0!==g.value.length&&Z()})),(0,l.YP)(u,(e=>{W(),S(e)}),{immediate:!0}),(e,t)=>{const a=(0,l.up)("q-skeleton"),s=(0,l.up)("q-card-section"),i=(0,l.up)("q-card"),g=(0,l.up)("q-expansion-item"),_=(0,l.up)("q-list"),y=(0,l.up)("q-card-actions");return!0===n.value?((0,l.wg)(),(0,l.j4)(a,{key:0,animation:"blink",height:"400px"})):((0,l.wg)(),(0,l.j4)(i,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",Qa,[(0,l._)("div",$a,[((0,l.wg)(),(0,l.j4)(Vt.Z,{selected:u.value,"onUpdate:selected":t[0]||(t[0]=e=>u.value=e),label:e.$t("servicesTabInstallable.serviceLabel"),options:b.value,key:r.value},null,8,["selected","label","options"]))]),(0,l._)("div",Pa,[((0,l.wg)(),(0,l.j4)(Vt.Z,{selected:c.value,"onUpdate:selected":t[1]||(t[1]=e=>c.value=e),label:e.$t("servicesTabInstallable.versionLabel"),options:w.value,key:o.value},null,8,["selected","label","options"]))])]),!0===p.value?((0,l.wg)(),(0,l.iD)("div",Va,[(0,l.Wm)(Ha,{selectedStartupFile:v.value,"onUpdate:selectedStartupFile":t[2]||(t[2]=e=>v.value=e),"onUpdate:isValidStartupFile":t[3]||(t[3]=e=>d.value=e)},null,8,["selectedStartupFile"])])):(0,l.kq)("",!0),(0,l.Wm)(_,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesTabInstallable.advancedSettingsLabel"),class:"services-tab-installable-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Kt,{portBindings:m.value,"onUpdate:portBindings":t[4]||(t[4]=e=>m.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(y,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesTabInstallable.cancelButton"),color:"grey-7",onClick:t[5]||(t[5]=e=>I())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===f.value,label:e.$t("servicesTabInstallable.installButton"),icon:"sym_s_install_desktop",onClick:t[6]||(t[6]=e=>C())},null,8,["disable","label"])])),_:1})])),_:1}))}}});var za=a(490);const Aa=La,ja=Aa;_()(La,"components",{QSkeleton:N.ZP,QCard:E.Z,QCardSection:R.Z,QList:ga.Z,QExpansionItem:ba.Z,QCardActions:wa.Z,QItem:za.Z});const Ba=(0,l.aZ)({__name:"ServicesInstallDialogTabs",setup(e){const t=(0,i.iH)("installable");return(e,a)=>{const s=(0,l.up)("q-tab"),i=(0,l.up)("q-tabs"),n=(0,l.up)("q-separator"),o=(0,l.up)("q-tab-panel"),r=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),"active-color":"primary","indicator-color":"primary",align:"justify",class:"text-grey","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"installable",class:"overview-services-tabs",icon:"sym_s_install_desktop",label:e.$t("servicesInstallDialogTabs.installableForm")},null,8,["label"]),(0,l.Wm)(s,{name:"custom",class:"overview-services-tabs",icon:"sym_s_app_registration",label:e.$t("servicesInstallDialogTabs.customForm")},null,8,["label"])])),_:1},8,["modelValue"]),(0,l.Wm)(n),(0,l.Wm)(r,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"installable",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(ja)])),_:1}),(0,l.Wm)(o,{name:"custom",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(fa)])),_:1})])),_:1},8,["modelValue"])],64)}}});var Ya=a(47817),Ea=a(70900),Na=a(50926),Ma=a(89800),Ra=a(84106);const Ka=Ba,Xa=Ka;_()(Ba,"components",{QTabs:Ya.Z,QTab:Ea.Z,QSeparator:Na.Z,QTabPanels:Ma.Z,QTabPanel:Ra.Z});const Oa={class:"flex justify-between items-center"},Ga={class:"title-dialog"},Ja=(0,l.aZ)({__name:"ServicesInstallDialog",setup(e){const t=lt(),a=(0,l.Fl)({get:()=>t.getShowDialogInstallService,set:e=>t.setShowDialogInstallService(e)});return(e,t)=>{const i=(0,l.up)("q-btn"),n=(0,l.up)("q-card-section"),o=(0,l.up)("q-card"),r=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(r,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",Oa,[(0,l._)("div",Ga,(0,s.zw)(e.$t("servicesInstallDialog.titleInstallService")),1),(0,l.Wm)(i,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>a.value=!1)})]),(0,l.Wm)(n,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Xa)])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),el=Ja,tl=el;_()(Ja,"components",{QDialog:Y.Z,QCard:E.Z,QBtn:b.Z,QCardSection:R.Z});var al=a(89906);const ll=(0,l.aZ)({__name:"ServicesUninstallDialog",setup(e){const t=(0,U.QT)().t,a=new tt.Z,s=lt(),i=(0,l.Fl)((()=>s.getSelectedService.name)),n=(0,l.Fl)({get:()=>s.getShowDialogUninstallService,set:e=>{s.setShowDialogUninstallService(e)}}),o=(0,l.Fl)({get:()=>s.getKeyServicesStatusTable,set:e=>{s.keyServicesStatusTable=e}}),r=(0,l.Fl)({get:()=>s.getIsLoadingServicesStatus,set:e=>{s.setIsLoadingServicesStatus(e)}});function u(){r.value=!0,(0,T.Q)(t("servicesUninstallDialog.uninstallLoading")),a.updateServiceStatus({name:i.value,status:"uninstalled"}).then((()=>{(0,q.LX)(t("servicesUninstallDialog.uninstallSuccess")),n.value=!1,o.value++})).catch((e=>{console.error(e),(0,q.s9)(e.response.data,t("servicesUninstallDialog.uninstallError"))})).finally((()=>{r.value=!1,(0,T.Z)()}))}return(e,t)=>((0,l.wg)(),(0,l.j4)(al.Z,{showDeleteDialog:n.value,"onUpdate:showDeleteDialog":t[2]||(t[2]=e=>n.value=e),titleDialog:e.$t("servicesUninstallDialog.uninstallDialogTitle"),messageToDelete:e.$t("servicesUninstallDialog.uninstallDialogDescription",{serviceName:i.value}),warningToDelete:e.$t("servicesUninstallDialog.warningUninstallService")},{"card-actions":(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesUninstallDialog.uninstallDialogCancelBtn"),color:"grey-7",onClick:t[0]||(t[0]=e=>n.value=!1)},null,8,["label"]),(0,l.Wm)(k.Z,{color:"negative",label:e.$t("servicesUninstallDialog.uninstallDialogConfirmBtn"),onClick:t[1]||(t[1]=e=>u())},null,8,["label"])])),_:1},8,["showDeleteDialog","titleDialog","messageToDelete","warningToDelete"]))}}),sl=ll,il=sl,nl={class:"flex justify-between items-center"},ol={class:"title-dialog"},rl={class:"flex justify-between items-center"},ul={class:"col q-mr-sm"},cl={class:"col q-ml-sm"},ml=(0,l.aZ)({__name:"ServicesUpdateDialog",setup(e){const t=(0,U.QT)().t,a=lt(),n=(0,i.iH)([]),o=(0,i.iH)(""),r=(0,i.iH)(""),u=(0,i.iH)(""),c=(0,i.iH)(""),m=(0,i.iH)(!1),v=(0,i.iH)(!1),d=(0,i.iH)(!1),p=(0,l.Fl)((()=>"custom"!==b.value.nature&&"solo"!==b.value.nature?!0===m.value&&!0===d.value:m.value)),g=(0,l.Fl)({get:()=>a.getShowDialogUpdateService,set:e=>a.setShowDialogUpdateService(e)}),b=(0,l.Fl)((()=>a.getSelectedService)),w=(0,l.Fl)({get:()=>a.getKeyServicesStatusTable,set:e=>{a.keyServicesStatusTable=e}});function _(){g.value=!1}function f(){const e=new tt.Z;(0,T.Q)(),e.updateServiceStatus({name:c.value,version:u.value,command:r.value,startupFile:o.value,portBindings:n.value}).then((()=>{(0,q.LX)(t("servicesUpdateDialog.updateSuccess")),w.value++,_()})).catch((e=>{(0,q.s9)(e.response.data,t("servicesUpdateDialog.updateError")),console.error(e)})).finally((()=>{(0,T.Z)()}))}return(0,l.YP)(g,(e=>{!1!==e&&(n.value=b.value.portBindings?b.value.portBindings:[],o.value=b.value.startupFile?b.value.startupFile:"",r.value=b.value.command,u.value=b.value.version,c.value=b.value.name)})),(e,t)=>{const a=(0,l.up)("q-btn"),i=(0,l.up)("q-card-section"),w=(0,l.up)("q-card"),y=(0,l.up)("q-expansion-item"),h=(0,l.up)("q-list"),S=(0,l.up)("q-card-actions"),x=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(x,{modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=e=>g.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{flat:"",style:{width:"950px","max-width":"90vw"},class:"dialog-card-bg"},{default:(0,l.w5)((()=>[(0,l._)("div",nl,[(0,l._)("div",ol,(0,s.zw)(e.$t("servicesUpdateDialog.titleUpdateService")),1),(0,l.Wm)(a,{icon:"sym_s_close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=e=>g.value=!1)})]),(0,l.Wm)(i,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l._)("div",rl,[(0,l._)("div",ul,[(0,l.Wm)(Ht,{disable:!0,serviceName:c.value,"onUpdate:serviceName":t[1]||(t[1]=e=>c.value=e)},null,8,["serviceName"])]),(0,l._)("div",cl,[(0,l.Wm)(Pt,{serviceVersion:u.value,"onUpdate:serviceVersion":t[2]||(t[2]=e=>u.value=e),"onUpdate:isValidServiceVersion":t[3]||(t[3]=e=>m.value=e)},null,8,["serviceVersion"])])]),"custom"===b.value.nature?((0,l.wg)(),(0,l.j4)(ea,{key:0,serviceCommand:r.value,"onUpdate:serviceCommand":t[4]||(t[4]=e=>r.value=e),"onUpdate:isValidServiceCommand":t[5]||(t[5]=e=>v.value=e),class:"q-mt-sm"},null,8,["serviceCommand"])):(0,l.kq)("",!0),"custom"!==b.value.nature&&"solo"!==b.value.nature?((0,l.wg)(),(0,l.j4)(Ha,{key:1,selectedStartupFile:o.value,"onUpdate:selectedStartupFile":t[6]||(t[6]=e=>o.value=e),class:"q-mt-sm","onUpdate:isValidStartupFile":t[7]||(t[7]=e=>d.value=e)},null,8,["selectedStartupFile"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(i,{class:"q-pt-none q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{"expand-separator":"",icon:"sym_s_settings",label:e.$t("servicesUpdateDialog.advancedSettingsLabel"),class:"services-update-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"q-ma-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(Kt,{portBindings:n.value,"onUpdate:portBindings":t[8]||(t[8]=e=>n.value=e)},null,8,["portBindings"])])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,l.Wm)(S,{align:"between",class:"q-pt-md q-px-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(k.Z,{label:e.$t("servicesUpdateDialog.cancelButton"),color:"grey-7",onClick:t[9]||(t[9]=e=>_())},null,8,["label"]),(0,l.Wm)(k.Z,{disable:!1===p.value,label:e.$t("servicesUpdateDialog.updateButton"),icon:"sym_s_install_desktop",color:"primary",onClick:t[10]||(t[10]=e=>f())},null,8,["disable","label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),vl=ml,dl=vl;_()(ml,"components",{QDialog:Y.Z,QCard:E.Z,QBtn:b.Z,QCardSection:R.Z,QList:ga.Z,QExpansionItem:ba.Z,QCardActions:wa.Z});const pl={class:"title-h4"},gl=(0,l.aZ)({__name:"ServicesStatusIndex",setup(e){const t=lt(),a=(0,Ne.V)(),n=new tt.Z,o=(0,i.iH)(),r=(0,i.iH)([]),u=(0,l.Fl)((()=>t.getKeyServicesStatusTable)),c=(0,l.Fl)((()=>a.getSelectedRefreshRate));function m(){o.value&&clearInterval(o.value),o.value=setInterval((()=>{n.getServicesStatus().then((e=>{0!==e.data.body.length&&(t.setServicesStatusList(e.data.body),r.value=v(e.data.body))})).catch((e=>{console.error(e)}))}),1e3*c.value)}function v(e){return e.forEach((e=>{e.metrics||(e.metrics={cpuUsagePercent:0,memUsagePercent:0,pids:[],uptimeSecs:0})})),e}return(0,l.bv)((()=>{n.getServicesStatus().then((e=>{0!==e.data.body.length&&(t.setServicesStatusList(e.data.body),r.value=v(e.data.body))})).catch((e=>{console.error(e)})).finally((()=>{m()}))})),(0,l.Ah)((()=>{clearInterval(o.value)})),(0,l.YP)(c,(()=>{m()})),(0,l.YP)(u,(()=>{m()})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(tl),(0,l.Wm)(il),(0,l.Wm)(dl),(0,l._)("div",pl,(0,s.zw)(e.$t("servicesStatusIndex.titleServicesStatus")),1),(0,l.Wm)(It,{servicesStatusList:r.value},null,8,["servicesStatusList"])],64))}}),bl=gl,wl=bl,_l={class:"title-h4"},fl={class:"flex justify-start"},yl=(0,l.aZ)({__name:"OverviewQuickServicesLinks",setup(e){const t=(0,U.QT)().t,a=[{name:t("quickLinks.linkApps"),icon:"apps",path:"/apps"},{name:t("quickLinks.linkDatabases"),icon:"database",path:"/databases"},{name:t("quickLinks.linkFiles"),icon:"folder",path:"/file-manager"},{name:t("quickLinks.linkBackups"),icon:"backup",path:"/backups"},{name:t("quickLinks.linkDomains"),icon:"language",path:"/domains"},{name:t("quickLinks.linkMetrics"),icon:"bar_chart",path:"/metrics"},{name:t("quickLinks.linkLogs"),icon:"receipt",path:"/logs"},{name:t("quickLinks.linkTerminal"),icon:"terminal",path:"/terminal"}];return(e,n)=>{const o=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",_l,(0,s.zw)((0,i.SU)(t)("quickLinks.titleQuickLinks")),1),(0,l._)("div",fl,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(a,(e=>(0,l.Wm)(o,{key:e.name,icon:"sym_s_"+e.icon,label:e.name,to:e.path,class:"q-my-md q-mx-xs",style:{width:"90px",height:"90px"},stack:"",outline:"","no-caps":""},null,8,["icon","label","to"]))),64))])],64)}}}),hl=yl,Sl=hl;_()(yl,"components",{QBtn:b.Z});var kl={class:"row q-mt-md"},xl={class:"col"},ql={class:"col q-ml-md hidden"};const Ul={__name:"OverviewIndex",setup:function(e){return function(e,t){var a=(0,l.up)("q-card-section"),s=(0,l.up)("q-card"),i=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(i,{padding:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(s,{flat:"",class:"q-mb-md"},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ee)]})),_:1})]})),_:1}),(0,l.Wm)(s,{flat:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(et)]})),_:1})]})),_:1}),(0,l._)("div",kl,[(0,l._)("div",xl,[(0,l.Wm)(s,{flat:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(wl)]})),_:1})]})),_:1})]),(0,l._)("div",ql,[(0,l.Wm)(s,{flat:"",style:{height:"100%"}},{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(Sl)]})),_:1})]})),_:1})])])]})),_:1})}}};var Tl=a(69885);const Zl=Ul,Wl=Zl;_()(Ul,"components",{QPage:Tl.Z,QCard:E.Z,QCardSection:R.Z})}}]);